<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="employee">
	<!-- User insert 예시 -->
	<insert id="insertEmployee" parameterType="u">
 		insert into employee values
 		(EMPLOYEE_SEQUENCE.nextval,#{id},#{pw},#{name},#{email},#{phone},#{address},#{birth},#{gender},0,#{detail_address})

 	</insert>
 	<!-- User select 예시 -->
	<select id="selectOneEmployee" parameterType="u" resultType="u">
	  select 
	  	employee_no as no,
	  	employee_id as id,
	  	employee_pw as pw, 
	  	employee_name as name,
	  	employee_email as email,
	  	employee_phone as phone,
	  	employee_address as address,
	  	employee_birth as birth,
	  	employee_gender as gender,
		change_pw as changePw,
		detail_address as detailAddress,
		'e' AS type
	  from employee where employee_id=#{id}
	  <if test="pw != null">
	 	and employee_pw=#{pw}
 	  </if>
	</select>
	<update id="employeeUpdate" parameterType="u">
 	update employee set 
 		employee_pw=#{pw}, 
 		employee_email=#{email},
 		employee_phone=#{phone},
 		employee_address=#{address},
 		employee_birth=#{birth},
 		employee_gender=#{gender},
 		detail_address = #{detail_address}
 	where employee_id = #{id}
 	</update>
	<select id="totalUserList" resultType="u">
	select 
	  	employee_no as no,
	  	employee_id as id,
	  	employee_pw as pw, 
	  	employee_name as name,
	  	employee_email as email,
	  	employee_phone as phone,
	  	employee_address as address,
	  	employee_birth as birth,
	  	employee_gender as gender,
		change_pw as changePw,
		detail_address as detailAddress,
		'e' AS type
	from employee
	</select>
</mapper>